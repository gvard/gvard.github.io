<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <title>Оскар: исследование</title>
  <link rel="stylesheet" href="../github.css">
  <script src="../highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
  <h1>Премия «Оскар» за лучший фильм: исследование</h1>
  <p>Премия Американской академии кинематографических искусств и наук (англ.
  <a href="https://en.wikipedia.org/wiki/Academy_Awards" target="_blank" rel="noopener noreferrer">Academy Awards</a>),
  с 1940-х годов известная как «О́скар» (англ. Oscar), — американская кинопремия, созданная в 1929 году и традиционно вручаемая деятелям киноискусства за их вклад в создание кинофильмов.
  </p>
  <p>На премию «<a href="https://en.wikipedia.org/wiki/Academy_Award_for_Best_Picture" target="_blank" rel="noopener noreferrer">лучший фильм</a>»
  номинируются художественные фильмы длительностью 40 минут и более, в которых не менее 75 % фраз произносится на английском языке. Для прочих фильмов предусмотрена категории «Лучший фильм на иностранном языке», «Лучший художественный короткометражный фильм» и другие.
  </p>
  <p>Данные с сайта <a href="https://www.kinopoisk.ru/top/lists/17/" target="_blank" rel="noopener noreferrer">Кинопоиск</a>:</p>
  <pre><code>#Название           | Год  | Рейтинг | Длина | Жанры | Бюджет | Сборы  |
oscar_data = [
['Зеленая книга', 2018, 8.323, 130, ['комедия', 'драма', 'биография'], 23, 321.7],
['Форма воды', 2017, 6.914, 123, ['фантастика', 'драма'], 19.4, 195.243464],
['Лунный свет', 2016, 6.151, 110, ['драма'], 1.5, 65.046687],
['В центре внимания', 2015, 7.489, 129, ['драма', 'криминал', 'история'], 20.0, 88.346473],
['Бёрдмэн', 2014, 7.604, 119, ['драма', 'комедия'], 18.0, 103.215094],
['12 лет рабства', 2013, 7.71, 133, ['драма', 'биография', 'история'], 20.0, 178.371993],
['Операция "Арго"', 2012, 7.517, 120, ['триллер', 'драма', 'биография'], 44.5, 232.324128],
['Артист', 2011, 7.942, 96, ['драма', 'мелодрама', 'комедия'], 15.0, 133.432856],
['Король говорит!', 2010, 7.977, 118, ['драма', 'биография', 'история'], 15.0, 414.211549],
['Повелитель бури', 2008, 7.298, 126, ['триллер', 'драма', 'военный', 'история'], 15.0, 49.230772],
['Миллионер из трущоб', 2008, 7.724, 120, ['драма', 'мелодрама'], 15.0, 377.910544],
['Старикам тут не место', 2007, 7.726, 122, ['триллер', 'драма', 'криминал'], 25.0, 171.627166],
['Отступники', 2006, 8.456, 151, ['триллер', 'драма', 'криминал'], 90.0, 289.847354],
['Столкновение', 2004, 7.896, 108, ['триллер', 'драма', 'криминал'], 6.5, 98.410061],
['Малышка на миллион', 2004, 8.075, 132, ['драма', 'спорт'], 30.0, 216.763646],
['Властелин колец: Возвращение Короля', 2003, 8.617, 201, ['фэнтези', 'драма', 'приключения'], 94.0, 1119.110941],
['Чикаго', 2002, 7.669, 113, ['мюзикл', 'комедия', 'криминал'], 45.0, 306.776732],
['Игры разума', 2001, 8.557, 135, ['драма', 'биография', 'мелодрама'], 58.0, 313.542341],
['Гладиатор', 2000, 8.585, 155, ['боевик', 'драма', 'приключения'], 103.0, 457.640427],
['Красота по-американски', 1999, 7.965, 122, ['драма'], 15.0, 356.296601],
['Влюбленный Шекспир', 1998, 7.452, 123, ['драма', 'мелодрама', 'комедия', 'история'], 25.0, 289.317794],
['Титаник', 1997, 8.369, 194, ['драма', 'мелодрама'], 200.0, 2185.372302],
['Английский пациент', 1996, 7.849, 155, ['драма', 'мелодрама', 'военный'], 27.0, 231.976425],
['Храброе сердце', 1995, 8.283, 178, ['драма', 'военный', 'биография', 'история'], 72.0, 210.409945],
['Форрест Гамп', 1994, 8.915, 142, ['драма', 'мелодрама'], 55.0, 677.386686],
['Список Шиндлера', 1993, 8.819, 195, ['драма', 'биография', 'история'], 22.0, 321.265768],
['Непрощенный', 1992, 7.858, 131, ['драма', 'вестерн'], 14.4, 159.157447],
['Молчание ягнят', 1990, 8.335, 114, ['триллер', 'криминал', 'детектив', 'драма', 'ужасы'], 19.0, 272.742922],
['Танцующий с волками', 1990, 8.112, 181, ['драма', 'приключения', 'вестерн'], 22.0, 424.208848],
['Шофёр мисс Дэйзи', 1989, 7.645, 99, ['драма'], 7.5, 145.793296],
['Человек дождя', 1988, 8.25, 133, ['драма'], 25.0, 354.825435],
]

print("Всего фильмов:", len(oscar_data))</code></pre>
<p>
<a href="https://github.com/ramusus/kinopoiskpy" target="_blank" rel="noopener noreferrer">Kinopoiskpy</a>, pythonic API to kinopoisk.ru website. Установка: pip install kinopoiskpy.<br>
<a href="get_films_info.py">Программа по сбору информации о фильмах</a>. Входные данные (названия фильмов) вводятся вручную.</p>
<h2>Считаем общий бюджет</h2>
<pre><code>money = 0.
for film in oscar_data:
    money = money + film[-1]
print("Общий бюджет, млн:", round(money, 1))
print()</code></pre>

<h2>Сортировка и форматирование вывода</h2>
<pre><code># Сортировка по рейтингу:
oscar_data.sort(key=lambda row: row[2], reverse=True)

# Вывод заголовков:
print("{:<35}".format("Название"), "{:<4}".format("Год"), end="")
print("Рейтинг Длина Бюджет  Сборы Прибыль")
print("---------------------------------------------------------------------------")

# Выводим только первые 10 строк
for film in oscar_data[:10]:
    # Форматируем название и год
    print("{:&lt;35} {:&lt;5}".format(film[0], film[1]), end=" ")
    # Форматируем рейтинг
    print("{:<.3f}  ".format(film[2]), end=" ")
    # Форматируем длину
    print("{:>3}".format(film[3]), end=" ")
    # Форматируем бюджет, сборы и прибыль
    print("{:>5.1f} {:>7.2f} {:>7.2f}".format(film[5], film[6], film[6]-film[5]))</code></pre>

<h2>Статистика жанров</h2>
<pre><code># Собираем жанры
genres = [] # Копилка жанров
for film in oscar_data: # Для каждого фильма
    for genre in film[4]: # Для каждого жанра
        if genre not in genres: # Если жанр не в копилке жанров
            genres.append(genre) # Добавить в копилку жанров

print(genres, len(genres))

for genre in genres: # Для каждого жанра в копилке жанров
    genres_count = 0 # Счетчик жанра создан и равен нулю
    for film in oscar_data: # Для каждого фильма
        if genre in film[4]: # Если жанр в жанрах фильма
                genres_count += 1 # Добавь единицу в счеткик жанра
    print("Количество фильмов с жанром", genre, genres_count)</code></pre>

</body>
</html>