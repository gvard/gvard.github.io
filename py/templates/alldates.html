<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Знаменательные даты (Flask SQLAlchemy app)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</head>
<body onload="findDate()">
<div class="wrapper">
<div class="column left">
<h1>Что произошло сегодня?</h1>

{% for event in events %}<div class="wrap">
  <div class="name">{{ event.name }}</div>
  <div class="tags">Теги: {% for tag in event.tags %}{{ tag.tag }} {% endfor %}</div>
  <div class="date">{% if event.date %}{{ event.date.strftime("%d.%m.%Y") }}{% endif %}</div>
  <div class="desc">
    {% for img in event.imgs %}{% if img.img_url %}<img src="{{ img.img_url }}" alt="">{% endif %}
    {% if img.img_filename %}<img src="images/{{ img.img_filename }}" alt="">{% endif %}
    {% endfor %}
    <p><span class="ago"></span> {{ event.text }}</p>
  </div>
</div>{% endfor %}

<p><b>Всего {{ events|length }} событий.</b></p>
<hr>
<div class="desc">Для наполнения материалом страницы дат необходимо соблюдать последовательность блоков и их формат:
  <ul>
    <li>Указание для тематического рубрикатора, одно из слов: Астрономия, Космонавтика, Авиация, Физика, Информатика.</li>
    <li>Даты вида дд.мм.гггг на отдельной строке.</li>
    <li>Изображение или ссылка на изображение из (англоязычной) википедии.</li>
    <li>Описание, начинающееся со слов вида " назад произошло...". Число прошедших лет и слово "год/года/лет" будет вставлено автоматически.</li>
  </ul>
</div>
<h2>Ссылки</h2>
<ul>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Astronomy" target="_blank" rel="noopener noreferrer">Portal:Astronomy</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Solar_System" target="_blank" rel="noopener noreferrer">Portal:Solar System</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Spaceflight" target="_blank" rel="noopener noreferrer">Portal:Spaceflight</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Outer_space" target="_blank" rel="noopener noreferrer">Portal:Outer space</a>,
    <a href="https://en.wikipedia.org/wiki/Space_exploration" target="_blank" rel="noopener noreferrer">Space exploration</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Earth_sciences" target="_blank" rel="noopener noreferrer">Portal:Earth sciences</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Aviation" target="_blank" rel="noopener noreferrer">Portal:Aviation</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Computer_programming" target="_blank" rel="noopener noreferrer">Portal:Computer programming</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Technology" target="_blank" rel="noopener noreferrer">Portal:Technology</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Internet" target="_blank" rel="noopener noreferrer">Portal:Internet</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Free_and_open-source_software" target="_blank" rel="noopener noreferrer">Portal:Free and open-source software</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Portal:Electronics" target="_blank" rel="noopener noreferrer">Portal:Electronics</a></li>
</ul>
</div>

<div class="column right">
<h2>Выбор даты</h2>
День и месяц формата дд.мм,<br>год формата гггг:<br>
<input type="text" id="daymon" size="4" maxlength="5" value="" placeholder="29.02"> <input type="text" id="year" size="4" maxlength="4" value="" placeholder="1984">
<br><input type="checkbox" id="onlyMonth" checked onclick="findDate()"> За текущий месяц<br>
<button onclick="findDate()">Что произошло в эту дату?</button>
<button onclick="showAll()">Показать все события</button>
<ul>
  <li>При пустом поле даты выводятся события текущей даты</li>
  <li>При пустом поле года выводятся все события заданной даты</li>
</ul>
<br>
</div>

</div>
</body>
</html>